<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Crear Solicitud</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f4f4f4;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .form-container {
      width: 400px;
      padding: 25px;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      position: relative;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin: 10px 0 5px;
      font-weight: bold;
    }

    input[type="text"], textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
      resize: vertical;
    }

    textarea {
      height: 100px;
    }

    .optional {
      font-weight: normal;
      font-size: 12px;
      color: #666;
    }

    .submit-btn {
      margin-top: 15px;
      padding: 10px;
      width: 100%;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    .submit-btn:hover {
      background-color: #218838;
    }

    .decor {
      position: absolute;
      font-size: 12px;
      color: #aaa;
    }

    .decor.barber {
      bottom: 10px;
      left: 10px;
      transform: rotate(-10deg);
    }

    .decor.mensaje {
      bottom: 20px;
      left: 150px;
      transform: rotate(10deg);
    }

    .icono {
      position: absolute;
      font-size: 20px;
    }

    .icono.martillo {
      top: 10px;
      right: 10px;
    }

    .icono.candado {
      bottom: 10px;
      right: 10px;
    }
  </style>
</head>
<body>

  <div class="form-container">
    <div class="icono martillo">ðŸ”¨</div>
    <h2>Crear nueva solicitud aquÃ­!</h2>

    <form id="solicitudForm">
      <label for="titulo">TÃ­tulo</label>
      <input type="text" id="titulo" name="titulo" required>

      <label for="detalles">Detalles</label>
      <textarea id="detalles" name="detalles" required></textarea>

      <label for="presupuesto">Presupuesto mÃ¡ximo <span class="optional">(opcional)</span></label>
      <input type="text" id="presupuesto" name="presupuesto">

      <label for="categoria">CategorÃ­a</label>
      <input type="text" id="categoria" name="categoria" required>

      <label for="ubicacion">UbicaciÃ³n</label>
      <input type="text" id="ubicacion" name="ubicacion" required>

      <button type="submit" class="submit-btn">Enviar</button>
    </form>
    <div class="icono candado">ðŸ”’</div>
  </div>

  <script>
    document.getElementById('solicitudForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Obtener los valores del formulario
      const titulo = document.getElementById('titulo').value;
      const detalles = document.getElementById('detalles').value;
      const presupuesto = document.getElementById('presupuesto').value || 'No especificado';
      const categoria = document.getElementById('categoria').value;
      const ubicacion = document.getElementById('ubicacion').value;
      
      // Crear objeto solicitud
      const solicitud = {
        id: Date.now(), // Usamos el timestamp como ID Ãºnico
        titulo: titulo,
        detalles: detalles,
        presupuesto: presupuesto,
        categoria: categoria,
        ubicacion: ubicacion,
        fecha: new Date().toLocaleDateString('es-ES', {
          day: '2-digit',
          month: '2-digit',
          year: 'numeric'
        }),
        estado: 'Pendiente'
      };
      
      // Obtener solicitudes existentes o inicializar array
      let solicitudes = JSON.parse(localStorage.getItem('solicitudes')) || [];
      
      // Agregar nueva solicitud
      solicitudes.push(solicitud);
      
      // Guardar en LocalStorage
      localStorage.setItem('solicitudes', JSON.stringify(solicitudes));
      
      alert('Solicitud enviada con Ã©xito!');
      this.reset(); // Limpiar el formulario
      
      // Redirigir a verSolicitud.html (opcional)
      // window.location.href = 'verSolicitud.html';
    });
  </script>
</body>
</html>
